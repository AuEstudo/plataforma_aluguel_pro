{% load static %}
<div class="col-md-4 mb-4">
    <div class="card h-100 shadow-sm">
        {% with foto_url=apartamento.get_foto_principal %}
            {% if foto_url %}
                <img src="{{ foto_url }}" class="card-img-top" alt="{{ apartamento.titulo }}" style="height: 200px; object-fit: cover;">
            {% else %}
                <img src="{% static 'images/placeholder.png' %}" class="card-img-top" alt="Sem foto" style="height: 200px; object-fit: cover;">
            {% endif %}
        {% endwith %}
        <div class="card-body d-flex flex-column">
            <h5 class="card-title">{{ apartamento.titulo }}</h5>
            <h6 class="card-subtitle mb-2 text-muted">{{ apartamento.predio.cidade }}, {{ apartamento.predio.estado }}</h6>
            <p class="card-text mt-auto">
                <strong>R$ {{ apartamento.preco_diaria|floatformat:2 }}</strong> / di√°ria
            </p>
            <a href="{% url 'apartamentos:detalhe_apartamento' pk=apartamento.pk %}" class="btn btn-primary mt-2">Ver Detalhes</a>
        </div>
    </div>
</div>